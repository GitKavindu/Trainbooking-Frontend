<div class="container mt-5">
  <div class="card compartment-card">
    <div class="card-header bg-dark text-white">
      <h3 class="text-center">Train Compartment</h3>
    </div>
    
    <div class="card-body">
      <!-- Upper berth -->
      <div class="d-flex justify-content-between mb-4 p-3 border-bottom">
        <!-- Left seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('upper', true)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
        
        <!-- Gap in the middle -->
        <div class="aisle"></div>
        
        <!-- Right seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('upper', false)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Lower berth -->
      <div class="d-flex justify-content-between mb-4 p-3 border-bottom">
        <!-- Left seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('lower', true)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
        
        <!-- Gap in the middle -->
        <div class="aisle"></div>
        
        <!-- Right seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('lower', false)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
      </div>
      
      <!-- Side berth -->
      <div class="d-flex justify-content-between p-3">
        <!-- Left seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('side', true)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
        
        <!-- Gap in the middle -->
        <div class="aisle"></div>
        
        <!-- Right seats -->
        <div class="d-flex seat-group">
          <div *ngFor="let seat of getSeats('side', false)" class="seat-container">
            <div 
              class="seat m-2 p-2 rounded text-center cursor-pointer"
              [ngClass]="getSeatClass(seat)"
              (click)="toggleSeatSelection(seat)"
            >
              {{ seat.number }}
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="card-footer">
      <div class="legend d-flex justify-content-around">
        <div><span class="badge bg-primary mr-2">Selected</span></div>
        <div><span class="badge bg-light mr-2">Available</span></div>
        <div><span class="badge bg-secondary mr-2">Booked</span></div>
      </div>
      
      <div *ngIf="selectedSeats.length > 0" class="mt-3 text-center">
        <h5>Selected Seats: {{ selectedSeats.join(', ') }}</h5>
        <button class="btn btn-success mt-2">Proceed to Book</button>
      </div>
    </div>
  </div>
</div>